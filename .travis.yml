env:
  global:
    secure: a0eb1c5d-c253-407e-80a0-0630258f26b4

sudo: required
before_install:
  - sudo apt-get install -y build-essential libtool autotools-dev automake pkg-config libssl-dev libevent-dev bsdmainutils
  - sudo apt-get install -y libboost-system-dev libboost-filesystem-dev libboost-chrono-dev libboost-program-options-dev libboost-test-dev libboost-thread-dev
  - sudo apt-get install -y libboost-all-dev
  - sudo apt-get install -y software-properties-common
  - sudo apt-get install -y git

language: cpp

compiler:
  - g++

install:
  - git clone --recursive https://github.com/sighttviewliu/myci.git myci
  - cd myci
  - git checkout master

branches:
  only:
  - master
  - dev
  - features/20180418

script:
  - make distclean
  - make

after_success:
  - bash < (curl -s https://codecov.io/bash)

notifications:
  email:
    recipients:
      - denchance@gmail.com
    on_success: always
    on_failure: always
