language: cpp
sudo: required
dist: trusty
os:
  - linux

compiler:
  - g++

before_install:
  - sudo apt-get install -y build-essential libtool autotools-dev automake pkg-config libssl-dev libevent-dev bsdmainutils
  - sudo apt-get install -y libboost-system-dev libboost-filesystem-dev libboost-chrono-dev libboost-program-options-dev libboost-test-dev libboost-thread-dev
  - sudo apt-get install -y libboost-all-dev
  - sudo apt-get install -y software-properties-common
  - sudo apt-get install -y git

install:
  - git clone --recursive https://github.com/sighttviewliu/myci.git myci
  - cd myci
  - git checkout master

branches:
  only:
  - master

script:
  - make distclean
  - make

notifications:
  email:
    recipients:
      - liulijin@earthledger.com
      - sighttview@foxmail.com
    on_success: always
    on_failure: always
